(this["webpackJsonpshopify-challenge"]=this["webpackJsonpshopify-challenge"]||[]).push([[0],{164:function(e,t,n){},165:function(e,t,n){},184:function(e,t,n){},255:function(e,t,n){},265:function(e,t,n){},267:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),c=n(25),s=n.n(c),r=(n(164),n.p,n(165),n(153)),o=n(22),l=n(135),d=n(136),j=n(157),u=n(151),b=n(154),f=n(68),h=n(37),m=n(272),g=n(152),O=n(273),p=n(137),x=n.n(p),y=n(76),S=n(270),v=(n(184),n(7)),k=["children"],I=function(e){var t=e.children,n=Object(y.a)(e,k);return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(S.a,Object(o.a)(Object(o.a)({className:"common-card-style"},n),{},{children:t}))})},L=n(94),C=n.n(L),N=n(269),A=n(69),z=n(45),w=n(274),D=n.p+"static/media/index.653c4dd3.less",R=function(e){var t=e.loading,n=e.error,i=e.data,a=e.onRetry,c=void 0===a?function(){}:a,s=e.style,r=void 0===s?{minHeight:200}:s,l=e.children,d=Object(v.jsx)(z.a,{style:{fontSize:25}}),j=C()(i);return Object(v.jsx)("div",{className:D.suspense,style:r,children:Object(v.jsxs)(N.a,{spinning:t,indicator:d,style:r,children:[!(n||t)&&!j&&l,!(n||t)&&j&&Object(v.jsx)("div",{className:D.errorWrap,style:Object(o.a)({},r),children:Object(v.jsx)(A.a,{image:Object(v.jsx)(w.a,{style:{fontSize:30,color:"#acacac"}}),description:"No Data",imageStyle:{height:40}})}),n&&Object(v.jsx)("div",{className:D.errorWrap,style:Object(o.a)({},r),children:Object(v.jsx)(A.a,{image:Object(v.jsx)(w.a,{style:{fontSize:30,color:"#acacac"}}),description:i.msg||"Fail to get the data",imageStyle:{height:40},children:Object(v.jsx)(g.a,{size:"small",type:"primary",onClick:c,children:"Retry"})})})]})})},F=(n(255),n(141)),Y=n.n(F),P=n(275),T=n(276),B=function(e){var t=e.data,n=e.setLikedStatus,i=t.copyright,a=t.date,c=t.explanation,s=t.url,r=t.title,o=t.media_type,l=t.liked;return Object(v.jsx)("div",{className:"imageCard",children:Object(v.jsx)(S.a,{hoverable:!0,style:{width:"100%",display:"inline-block",textAlign:"center",marginBottom:"24px"},children:Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(v.jsxs)("div",{style:{textAlign:"left"},children:[o&&"image"===o?Object(v.jsx)("img",{src:s}):"",o&&"video"===o?Object(v.jsx)("iframe",{src:s,allowfullscreen:"true"}):""]}),Object(v.jsxs)("div",{style:{textAlign:"left",flex:1,margin:"30px"},children:[Object(v.jsx)("p",{style:{fontSize:"48px",fontWeight:"bold"},children:r}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("p",{style:{fontSize:"24px",display:"inline-block"},children:["Date: ",a," | ",i||"Anonymous"]}),Object(v.jsx)(P.a,{style:{float:"right",fontSize:"32px",marginLeft:"8px"},onClick:function(){Y()(s,{debug:!0})&&b.b.success("The link of ".concat(r," has copied successfully, send it to your friends!"))}}),Object(v.jsx)(T.a,{style:{float:"right",fontSize:"32px",color:l?"red":""},onClick:function(){n(t)}})]}),Object(v.jsx)("p",{style:{fontSize:"30px"},children:c})]})]})})})},J=function(e){var t=e.data,n=e.api,i=e.setLikedStatus;return Object(v.jsxs)(f.a,{gutter:8,children:[Object(v.jsx)(h.a,{xl:24,lg:24,sm:24,xs:24,children:Object(v.jsxs)("div",{style:{display:"inline-block",float:"left"},children:[Object(v.jsx)("p",{style:{fontSize:"32px",fontWeight:"bold",textAlign:"left",marginBottom:0},children:"Spacestagram"}),Object(v.jsx)("p",{style:{fontSize:"18px",color:"rgb(138, 135, 135)",textAlign:"left"},children:"Brought to you by NASA's ".concat(n," API")})]})}),t&&t.map((function(e){return Object(v.jsx)(h.a,{xl:24,lg:24,sm:24,xs:24,children:Object(v.jsx)(B,{data:e,setLikedStatus:i})})}))]})},M=n(84),_=n(54),W=n.n(_),E=n(155),V=n(271),G=n(143),q=n.n(G),H=n(144),Q=n.n(H),Z=["formItem","onFieldChange"],K=["component","name","formItemOptions"],U=V.a.Item,X=function(e){var t=e.formItem,n=e.onFieldChange,i=Object(y.a)(e,Z),a=V.a.useForm(),c=Object(E.a)(a,1)[0];return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(V.a,Object(o.a)(Object(o.a)({layout:"inline"},i),{},{onValuesChange:function(e,t){n&&Object.values(t).every((function(e){return!(!Q()(e)&&!q()(e))||!C()(e)}))&&n(t)},form:c,children:t.map((function(e){var t=e.component,n=e.name,i=e.formItemOptions,a=void 0===i?{}:i,c=Object(y.a)(e,K);return Object(v.jsx)(U,Object(o.a)(Object(o.a)({name:n},a),{},{children:Object(v.jsx)(t,Object(o.a)({},c))}))}))}))})},$=n(148),ee=n(145),te=n.n(ee),ne=n(146),ie=n.n(ne),ae=Object($.b)(te.a);function ce(e,t,n){return Object(o.a)({name:e,formItemOptions:Object(o.a)({rules:[{required:!0,message:"pick up the date"}]},n),component:ae.RangePicker,size:"middle",locale:ie.a},t)}var se=function(e){var t=e.defaultValue,n=e.onTimeRangeChange,a=void 0===n?function(){}:n,c=e.name,s=void 0===c?"time":c,r=Object(i.useMemo)((function(){return t||[W()().subtract(1,"week"),W()()]}),[t]),o=Object(i.useMemo)((function(){return[ce(s,{},{initialValue:t||[W()().subtract(1,"week"),W()()]})]}),[s]);return Object(i.useEffect)((function(){a(Object(M.a)({},s,r))}),[]),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"range-filter",style:{marginLeft:"16px"},children:Object(v.jsx)(X,{formItem:o,onFieldChange:a})})})},re=(n(265),function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).showNasaImages=function(){e.fetchImages()},e.refresh=function(){e.fetchImages()},e.fetchImages=function(){var t="https://api.nasa.gov",n=e.state,i=n.select_api,a=n.timeRange;"APOD"===i?(t=t+"/planetary/apod?api_key="+"aplpG2wFRQCZie4Ak0ik3RABe0zABoPAS0GC1oIj"+"&start_date=".concat(a.time[0].format("YYYY-MM-DD"),"&end_date=").concat(a.time[1].format("YYYY-MM-DD")),e.setState({isLoading:!0,initial:!1}),x.a.get(t).then((function(t){e.setState({info:e.updateDataList(t.data),likedListInfo:JSON.parse(localStorage.getItem("liked-list")),isLoading:!1,error:200!==t.status&&304!==t.status})})).catch((function(t){e.setState({info:t.response.data,isLoading:!1,error:200!==t.response.status&&304!==t.response.status})}))):b.b.error("more links will release soon")},e.updateDataList=function(t){localStorage.getItem("liked-list")||localStorage.setItem("liked-list",JSON.stringify(new Set));var n=e.objToSet(JSON.parse(localStorage.getItem("liked-list")));return t.forEach((function(e){n.has(e.title)?e.liked=!0:e.liked=!1})),t},e.objToSet=function(e){var t=new Set;for(var n in e)t.add(e[n]);return t},e.setLikedStatus=function(t){var n=t.title,i=t.liked,a=e.objToSet(JSON.parse(localStorage.getItem("liked-list")));i?a.delete(n):a.add(n),localStorage.setItem("liked-list",JSON.stringify(Object(o.a)({},Object(r.a)(a)))),e.setState({info:e.updateDataList(e.state.info),likedListInfo:JSON.parse(localStorage.getItem("liked-list"))}),b.b.success("You have ".concat(i?"unliked":"liked"," the ").concat(n))},e.onSourceChange=function(t){e.setState({select_api:t})},e.onTimeRangeChange=function(t){e.setState((function(e){return{timeRange:Object(o.a)(Object(o.a)({},e.timeRange),t)}}))},e.state={select_api:"APOD",info:void 0,isLoading:!1,initial:!0,error:!1,timeRange:void 0,likedListInfo:void 0},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.state,t=e.select_api,n=e.initial,i=e.isLoading,a=e.info,c=e.error,s=e.likedListInfo,r=Object(v.jsx)("div",{children:s&&Object.keys(s).map((function(e){return Object(v.jsx)("p",{className:"liked-panel",children:s[e]})}))});return Object(v.jsxs)(f.a,{gutter:8,className:"main",children:[Object(v.jsx)(h.a,{span:24,children:Object(v.jsx)(I,{title:"Welcome! Please select an image source",headStyle:{fontSize:"46px"},children:Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"8px"},children:[Object(v.jsxs)(m.a,{style:{width:300},placeholder:"Select a source",value:t,onChange:this.onSourceChange,children:[Object(v.jsx)(m.a.Option,{value:"APOD",children:"Astronomy Picture of the Day"}),Object(v.jsx)(m.a.Option,{value:"NeoWs",children:"More Links Will Coming Soon"})]}),Object(v.jsx)(se,{onTimeRangeChange:this.onTimeRangeChange}),Object(v.jsx)(g.a,{style:{marginLeft:"16px"},onClick:this.showNasaImages,children:"Search"}),n||i?"":Object(v.jsx)(O.a,{content:r,title:"You like ".concat(s&&Object.keys(s).length," images"),children:Object(v.jsx)(g.a,{style:{marginLeft:"16px"},type:"primary",children:"Your Liked List"})})]})})}),Object(v.jsx)(h.a,{span:24,children:Object(v.jsx)(I,{style:{background:"rgb(218, 220, 224)"},children:n?Object(v.jsx)("p",{style:{fontSize:"24px"},children:"Let's start the travel"}):Object(v.jsx)(R,{loading:i,error:c,data:a,onRetry:this.refresh,children:Object(v.jsx)(J,{data:a,api:t,setLikedStatus:this.setLikedStatus})})})})]})}}]),n}(i.Component));var oe=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(re,{})})},le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,277)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),i(e),a(e),c(e),s(e)}))};n(266);s.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(oe,{})}),document.getElementById("root")),le()}},[[267,1,2]]]);
//# sourceMappingURL=main.aef919dd.chunk.js.map