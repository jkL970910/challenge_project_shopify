{"version":3,"sources":["logo.svg","components/card/index.jsx","components/suspense/index.less","components/suspense/index.jsx","components/imageCard/index.jsx","components/imageCard/imagePanel.jsx","components/dataRange/filter.jsx","components/helper.js","components/dataRange/index.jsx","main.jsx","constants.js","App.js","reportWebVitals.js","index.js"],"names":["StyleCard","props","children","restOptions","className","Suspense","loading","error","data","onRetry","style","cssStyle","minHeight","antIcon","LoadingOutlined","fontSize","isEmptyData","isEmpty","suspense","spinning","indicator","errorWrap","image","MehOutlined","color","description","imageStyle","height","msg","size","type","onClick","ImageCard","setLikedStatus","copyright","date","explanation","url","title","media_type","liked","hoverable","width","display","textAlign","marginBottom","justifyContent","alignItems","src","allowfullscreen","flex","margin","fontWeight","ShareAltOutlined","float","marginLeft","copy","debug","message","success","HeartOutlined","ImagePanel","api","gutter","xl","lg","sm","xs","map","o","FormItem","Form","Item","ChartFilter","formItem","onFieldChange","restFormOptions","useForm","form","layout","onValuesChange","fields","allFields","Object","values","every","isNumber","isBoolean","option","Component","component","name","formItemOptions","restComponentOptions","DatePicker","generatePicker","dayjsGenerateConfig","createDateRangePicker","componentProps","rules","required","RangePicker","locale","DateRange","defaultValue","onTimeRangeChange","initialValue","useMemo","dayjs","subtract","useEffect","Main","showNasaImages","fetchImages","refresh","state","select_api","timeRange","time","format","setState","isLoading","initial","axios","get","then","res","info","updateDataList","likedListInfo","JSON","parse","localStorage","getItem","status","catch","response","setItem","stringify","Set","likedList","objToSet","forEach","has","obj","set","key","add","localArr","delete","onSourceChange","value","prevState","undefined","this","content","keys","span","headStyle","placeholder","onChange","Option","length","background","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.aef919dd.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from 'react';\r\nimport { Card } from 'antd';\r\nimport './index.css';\r\n\r\nconst StyleCard = (props) => {\r\n  const { children, ...restOptions } = props;\r\n  return (\r\n    <>\r\n      <Card className={'common-card-style'} {...restOptions}>\r\n        {children}\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default StyleCard;\r\n","export default __webpack_public_path__ + \"static/media/index.653c4dd3.less\";","import React from 'react';\r\nimport isEmpty from 'lodash/isEmpty';\r\nimport { Spin, Empty, Button } from 'antd';\r\nimport { LoadingOutlined, MehOutlined } from '@ant-design/icons';\r\nimport style from './index.less';\r\n\r\nconst Suspense = (props) => {\r\n  const {\r\n    loading,\r\n    error,\r\n    data,\r\n    onRetry = () => {},\r\n    style: cssStyle = { minHeight: 200 },\r\n    children,\r\n  } = props;\r\n  const antIcon = <LoadingOutlined style={{ fontSize: 25 }} />;\r\n  const isEmptyData = isEmpty(data);\r\n  return (\r\n    <div className={style.suspense} style={cssStyle}>\r\n      <Spin spinning={loading} indicator={antIcon} style={cssStyle}>\r\n        {!(error || loading) && !isEmptyData && children}\r\n        {!(error || loading) && isEmptyData && (\r\n          <div className={style.errorWrap} style={{ ...cssStyle }}>\r\n            <Empty\r\n              image={<MehOutlined style={{ fontSize: 30, color: '#acacac' }} />}\r\n              description=\"No Data\"\r\n              imageStyle={{ height: 40 }}\r\n            />\r\n          </div>\r\n        )}\r\n        {error && (\r\n          <div className={style.errorWrap} style={{ ...cssStyle }}>\r\n            <Empty\r\n              image={<MehOutlined style={{ fontSize: 30, color: '#acacac' }} />}\r\n              description= {data.msg || \"Fail to get the data\"}\r\n              imageStyle={{ height: 40 }}\r\n            >\r\n              {\r\n                <Button size=\"small\" type=\"primary\" onClick={onRetry}>\r\n                  Retry\r\n                </Button>\r\n              }\r\n            </Empty>\r\n          </div>\r\n        )}\r\n      </Spin>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Suspense;\r\n","import React from 'react';\r\nimport { Card, message } from 'antd';\r\nimport './index.css';\r\nimport copy from 'copy-to-clipboard';\r\nimport { HeartOutlined, ShareAltOutlined } from '@ant-design/icons';\r\n\r\nconst ImageCard = (props) => {\r\n  const {\r\n    data,\r\n    setLikedStatus,\r\n  } = props;\r\n  const {copyright, date, explanation, url, title, media_type, liked} = data;\r\n\r\n  const copyCode = () => {\r\n    if (copy(url, {\r\n      debug: true,\r\n    })) message.success(`The link of ${title} has copied successfully, send it to your friends!`);\r\n  };\r\n\r\n  return (\r\n    <div className={\"imageCard\"}>\r\n      <Card\r\n        hoverable\r\n        style={{ width: '100%', display: 'inline-block', textAlign: 'center', marginBottom: '24px' }}\r\n      >\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>\r\n          <div style={{ textAlign: 'left' }}>\r\n            {media_type && media_type === 'image' ? <img src={url} /> : ''}\r\n            {media_type && media_type === 'video' ? <iframe src={url} allowfullscreen=\"true\"/> : ''}\r\n          </div>\r\n          <div style={{ textAlign: 'left', flex: 1, margin: '30px' }}>\r\n            <p style={{ fontSize: '48px', fontWeight: 'bold' }}>{title}</p>\r\n            <div>\r\n              <p style={{ fontSize: '24px', display:'inline-block' }}>Date: {date} | {copyright || 'Anonymous'}</p>\r\n              <ShareAltOutlined \r\n                style={{ float: 'right', fontSize: '32px', marginLeft: '8px' }} \r\n                onClick={copyCode}\r\n              />\r\n              <HeartOutlined \r\n                style={{ float: 'right', fontSize: '32px', color: liked ? 'red' : ''}} \r\n                onClick={() => {setLikedStatus(data)}}\r\n              />\r\n            </div>\r\n            <p style={{ fontSize: '30px' }}>{explanation}</p>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageCard;\r\n","import React from 'react';\r\nimport ImageCard from './index';\r\nimport { Row, Col } from 'antd';\r\n\r\nconst ImagePanel = (props) => {\r\n  const {\r\n    data,\r\n    api,\r\n    setLikedStatus,\r\n  } = props;\r\n\r\n  return (\r\n    <Row gutter={8}>\r\n      <Col xl={24} lg={24} sm={24} xs={24}>\r\n        <div style={{ display: 'inline-block', float: 'left' }}>\r\n          <p style={{ fontSize: '32px', fontWeight: 'bold', textAlign: 'left', marginBottom: 0}}>Spacestagram</p>\r\n          <p style={{ fontSize: '18px', color: 'rgb(138, 135, 135)', textAlign: 'left'}}>{`Brought to you by NASA's ${api} API`}</p>\r\n        </div>\r\n      </Col>\r\n      {data && data.map((o) => (\r\n        <Col xl={24} lg={24} sm={24} xs={24}>\r\n          <ImageCard data={o} setLikedStatus={setLikedStatus}/>\r\n        </Col>\r\n      ))}\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default ImagePanel;\r\n","import React from 'react';\r\nimport { Form } from 'antd';\r\nimport isEmpty from 'lodash/isEmpty';\r\nimport isBoolean from 'lodash/isBoolean';\r\nimport isNumber from 'lodash/isNumber'\r\n\r\nconst FormItem = Form.Item;\r\nconst ChartFilter = (props) => {\r\n  const {\r\n    formItem,\r\n    onFieldChange,\r\n    ...restFormOptions\r\n  } = props;\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const onFieldsChangeHandle = (fields, allFields) => {\r\n    if (onFieldChange) {\r\n        if (\r\n            Object.values(allFields).every((o) => {\r\n                if (isNumber(o) || isBoolean(o)) {\r\n                    return true;\r\n                }\r\n                return !isEmpty(o);\r\n            })\r\n        ) {\r\n        onFieldChange(allFields);\r\n        }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Form\r\n        layout=\"inline\"\r\n        {...restFormOptions}\r\n        onValuesChange={onFieldsChangeHandle}\r\n        form={form}\r\n      >\r\n        {formItem.map((option) => {\r\n          const {\r\n            component: Component,\r\n            name,\r\n            formItemOptions = {},\r\n            ...restComponentOptions\r\n          } = option;\r\n          return (\r\n            <FormItem name={name} {...formItemOptions}>\r\n              <Component {...restComponentOptions} />\r\n            </FormItem>\r\n          );\r\n        })}\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChartFilter;\r\n","import generatePicker from 'antd/es/date-picker/generatePicker';\r\nimport dayjsGenerateConfig from 'rc-picker/lib/generate/dayjs';\r\nimport locale from 'dayjs/locale/zh-cn';\r\n\r\nconst DatePicker = generatePicker(dayjsGenerateConfig);\r\n\r\nexport function createDateRangePicker(\r\n    name,\r\n    componentProps,\r\n    formItemOptions,\r\n  ) {\r\n    return {\r\n      name,\r\n      formItemOptions: {\r\n        rules: [{ required: true, message: 'pick up the date' }],\r\n        ...formItemOptions,\r\n      },\r\n      component: DatePicker.RangePicker,\r\n      size: 'middle',\r\n      locale,\r\n      ...componentProps,\r\n    };\r\n  }","import React, { useEffect, useMemo } from 'react';\r\nimport dayjs from 'dayjs';\r\nimport Filter from './filter';\r\nimport { createDateRangePicker } from '../helper';\r\n\r\nconst DateRange = (props) => {\r\n  const { defaultValue, onTimeRangeChange = () => {}, name = 'time' } = props;\r\n\r\n  const initialValue = useMemo(() => {\r\n    return defaultValue || [dayjs().subtract(1, 'week'), dayjs()];\r\n  }, [defaultValue]);\r\n\r\n  const formItem = useMemo(\r\n    () => [\r\n      createDateRangePicker(\r\n        name,\r\n        {},\r\n        {\r\n          initialValue: defaultValue || [dayjs().subtract(1, 'week'), dayjs()],\r\n        },\r\n      ),\r\n    ],\r\n    [name],\r\n  );\r\n\r\n  useEffect(() => {\r\n    onTimeRangeChange({ [name]: initialValue });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n        <div className={'range-filter'} style={{ marginLeft: '16px'}}>\r\n            <Filter formItem={formItem} onFieldChange={onTimeRangeChange} />\r\n        </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DateRange;\r\n","import React, {Component} from 'react';\r\nimport { Row, Col, Button, Select, message, Popover } from 'antd';\r\nimport axios from 'axios';\r\nimport { NASAKEY, NASA_REQUEST_URL } from './constants';\r\nimport StyleCard from './components/card/index';\r\nimport CorpSuspense from './components/suspense/index';\r\nimport ImagePanel from './components/imageCard/imagePanel';\r\nimport DateRange from './components/dataRange/index';\r\nimport './main.css';\r\n\r\nclass Main extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state= {\r\n            select_api: 'APOD',\r\n            info: undefined,\r\n            isLoading: false,\r\n            initial: true,\r\n            error: false,\r\n            timeRange: undefined,\r\n            likedListInfo: undefined,\r\n        };\r\n    }\r\n\r\n    showNasaImages = () => {\r\n        this.fetchImages();\r\n    }\r\n\r\n    refresh = () => {\r\n        this.fetchImages();\r\n    }\r\n \r\n    fetchImages = () => {\r\n        let type = '';\r\n        let url = NASA_REQUEST_URL;\r\n        const {select_api, timeRange} = this.state;\r\n        if (select_api === 'APOD') {\r\n            type = '/planetary/apod?api_key=';\r\n            url = url + type + NASAKEY + `&start_date=${timeRange.time[0].format('YYYY-MM-DD')}&end_date=${timeRange.time[1].format('YYYY-MM-DD')}`;\r\n        } else {\r\n            message.error('more links will release soon');\r\n            return;\r\n        }\r\n        this.setState({isLoading: true, initial: false})\r\n        axios.get(url).then((res) => {\r\n            this.setState({info: this.updateDataList(res.data), likedListInfo: JSON.parse(localStorage.getItem('liked-list')), isLoading: false, error: res.status === 200 || res.status === 304 ? false : true})\r\n        }).catch(res => {\r\n            this.setState({info: res.response.data, isLoading: false, error: res.response.status === 200 || res.response.status === 304 ? false : true})\r\n        })\r\n    }\r\n\r\n    updateDataList = (data) => {\r\n        if (!localStorage.getItem('liked-list')) localStorage.setItem('liked-list', JSON.stringify(new Set()));\r\n        let likedList = this.objToSet(JSON.parse(localStorage.getItem('liked-list')));\r\n        data.forEach((o) => {\r\n          if (likedList.has(o.title)) {\r\n            o['liked'] = true;\r\n          }\r\n          else o['liked'] = false;\r\n        })\r\n        return data; \r\n    }\r\n\r\n    objToSet = (obj) => {\r\n        let set = new Set();\r\n        for (let key in obj) {\r\n          set.add(obj[key]);\r\n        }\r\n        return set;\r\n    }\r\n\r\n    setLikedStatus = (data) => {\r\n        const {title, liked} = data;\r\n        let localArr = this.objToSet(JSON.parse(localStorage.getItem('liked-list')));\r\n        if (!liked) localArr.add(title);\r\n        else localArr.delete(title);\r\n        localStorage.setItem('liked-list', JSON.stringify({...[...localArr]}));\r\n        this.setState({info: this.updateDataList(this.state.info), likedListInfo: JSON.parse(localStorage.getItem('liked-list'))})\r\n        message.success(`You have ${!liked ? 'liked' : 'unliked'} the ${title}`);\r\n    }\r\n\r\n    onSourceChange = (value) => {\r\n        this.setState({ select_api: value });\r\n    }\r\n\r\n    onTimeRangeChange = (o) => {\r\n        this.setState((prevState) => ({ timeRange: {...prevState.timeRange, ...o} }));\r\n    };\r\n\r\n    render() {\r\n        const { select_api, initial, isLoading, info, error, likedListInfo } = this.state;\r\n        const content = (\r\n            <div>\r\n                {likedListInfo && Object.keys(likedListInfo).map((o) => (\r\n                    <p className={'liked-panel'}>{likedListInfo[o]}</p>\r\n                ))}\r\n            </div>\r\n        );\r\n        return (\r\n            <Row gutter={8} className='main'>\r\n                <Col span={24}>\r\n                    <StyleCard title=\"Welcome! Please select an image source\" headStyle={{ fontSize: '46px'}} >\r\n                        <div style={{ display: 'flex',  justifyContent: 'center', marginBottom: '8px'}}>\r\n                            <Select\r\n                                style={{ width: 300 }}\r\n                                placeholder={`Select a source`}\r\n                                value={select_api}\r\n                                onChange={this.onSourceChange}\r\n                            >\r\n                                <Select.Option value=\"APOD\">Astronomy Picture of the Day</Select.Option>\r\n                                <Select.Option value=\"NeoWs\">More Links Will Coming Soon</Select.Option>\r\n                            </Select>\r\n                            <DateRange onTimeRangeChange={this.onTimeRangeChange}/>\r\n                            <Button style = {{ marginLeft: '16px'}} onClick={this.showNasaImages}>Search</Button>\r\n                            {initial || isLoading ? '' :\r\n                                <Popover content={content} title={`You like ${likedListInfo && Object.keys(likedListInfo).length} images`}>\r\n                                    <Button style={{ marginLeft: '16px' }} type=\"primary\">Your Liked List</Button>\r\n                                </Popover>\r\n                            }\r\n                        </div>\r\n                    </StyleCard>\r\n                </Col>\r\n                <Col span={24}>\r\n                    <StyleCard style={{ background: 'rgb(218, 220, 224)' }}>\r\n                        {initial ? <p style={{ fontSize: '24px' }}>Let's start the travel</p>\r\n                        :\r\n                        <CorpSuspense\r\n                            loading={isLoading}\r\n                            error={error}\r\n                            data={info}\r\n                            onRetry={this.refresh}\r\n                        >\r\n                            <ImagePanel data={info} api={select_api} setLikedStatus={this.setLikedStatus} />\r\n                        </CorpSuspense>\r\n                        }\r\n                    </StyleCard>\r\n                </Col>\r\n            </Row>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Main;","export const NASAKEY = 'aplpG2wFRQCZie4Ak0ik3RABe0zABoPAS0GC1oIj';\r\nexport const NASA_REQUEST_URL = 'https://api.nasa.gov';","import logo from './logo.svg';\nimport './App.css';\nimport Main from './main.jsx';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      {/* <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header> */}\n      <Main />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'antd/dist/antd.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}